# Alignment

<!--
格式规范：
- 纯列表结构，仅追加不删除
- 每条带标签和日期
- 确认结论缩进追加在原条目下
-->

- [已确认] 产出物模板已补充在 assets/templates 中，包含 6 个模板文件（1-spec.md、2-plan.md、3-tasks.md、acceptance.md、alignment.md、summary.md） `@2026-01-20`
- [已确认] spec-kit 已添加到工作区，可作为 Claude 适配器的参考实现 `@2026-01-20`
- [已确认] 需要适配 qwen、iflow 和 cline 三个 AI 工具 `@2026-01-20`
- [已确认] 采用 TDD（测试驱动开发）方式进行开发，引入单元测试框架 `@2026-01-20`
  - ↳ 使用 Vitest 作为单元测试框架（更现代、更快的测试框架）
  - ↳ 测试覆盖核心功能：init 命令、new 命令、AI 适配器
  - ↳ 遵循红-绿-重构循环：先写测试 → 实现功能 → 重构代码
  - ↳ 测试文件与源码文件同目录，命名规范：`*.test.ts`
  - ↳ 目标测试覆盖率：≥80%
- [已确认] README 优化方向 `@2026-01-20`
  - ↳ 去掉 TDD-Driven 特性描述（内部开发方式，不需要透出给用户）
  - ↳ 核心内容聚焦于工具的 idea 和用法，吸引用户使用
  - ↳ Local Development 内容移到最后作为开发指南
- [待确认] AI 适配器实现方式需要更灵活 `@2026-01-20`
  - ↳ 当前实现：所有适配器都是简单的文件复制（cursor.ts、qwen.ts、iflow.ts、cline.ts 都使用相同的 cpSync 逻辑）
  - ↳ 问题：不同 AI 工具的命令文件格式、内容要求各不相同，不能只是简单的复制粘贴
  - ↳ 需求：参考 OpenSpec 的实现，为不同 AI 工具提供格式转换和内容适配能力
  - ↳ 影响：需要重新设计适配器接口，支持格式转换、内容定制、变量替换等高级功能

<!--
支持标签：
| 标签       | 含义                 |
| ---------- | -------------------- |
| [冲突]     | 多来源信息存在矛盾   |
| [缺失]     | 缺少必要信息         |
| [歧义]     | 描述模糊可作多种理解 |
| [偏差]     | 实现与预期不符       |
| [待确认]   | 需要相关方确认       |
| [已确认]   | 已获确认结论         |
-->